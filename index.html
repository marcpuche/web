---
extends: base.j2
default_block: main
description: Language selection page
class: main-title
uuid: top-index
---

<div id="warning" class="alert alert-error alert-block">
<h4>Oops!</h4>
{#
<p>Your JavaScript is disabled and our language detection and redirection failed or you somehow reached a domain that hasn't been configured but points to this server.</p>
<p>Try visiting <a href="http://evilham.com">Evilham.com</a> or one of the links below:</p>
<ul>
  {%- for code, lang in languages %}
  <li><a href='{{ content_url(code)+"/" }}'>{{lang}}</a></li>
  {%- endfor %}
</ul>
</div>

<script>
var divtext="";
if (window.location=="http://evilham.com/") {
  divtext="<h4>Oops!</h4><p>This should have brought you to the index in your language of choice. Click below if it doesn't happen automatically.</p>\n<ul>\n{%- for code, lang in languages %}<li><a href='{{ content_url(code)+"/" }}'>{{lang}}</a></li>\n{%- endfor %}\n</ul>"

{% for code, lang in languages %}
 if (navigator.language.split(/-/)[0] === "{{ code }}")
   location.href = "{{ content_url(code) }}";
 else
{%- endfor %}
 null;
}
else {
  divtext="<h4>Oops!</h4><p>You somehow reached a domain that hasn't been configured but points to this server.\n We'll redirect you to the <a href='http://evilham.com'>main domain</a> in 5 seconds.</p>"
  setTimeout(function () { window.location="http://evilham.com";}, 5000);
}
var warning = this.document.getElementById("warning");
warning.innerHTML=divtext;
</script>
#}
